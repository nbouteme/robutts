% Created 2017-11-27 Mon 13:42
% Intended LaTeX compiler: pdflatex
\documentclass[12pt,french]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage[skins,minted,breakable]{tcolorbox}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\usepackage{minted}
\usepackage{babel}
\usepackage{tikz}
\usepackage{fullpage}
\usepackage{minted}
\usepackage{url}
\usepackage[defaultlines=10,all]{nowidow}
\author{
  Alizé N\textsc{agel} \\
  Nabil B\textsc{outemeur}
}
\date{\today}
\title{Listing du projet}
\hypersetup{
 pdfauthor={Nabil B\textsc{outemeur} \\
Alizé N\textsc{agel}},
 pdftitle={Documentation},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Nabil BOUTEMEUR}, 
 pdflang={Frenchb}}
\begin{document}

\maketitle

\catcode`\_=13 
\def_{\textunderscore}

\tableofcontents

\catcode`_=8

\newcommand\purl[1]{\detokenize\expandafter{#1}} % "protected url"

\renewcommand\thesection{}
\renewcommand\thesubsection{}
\renewcommand\thesubsubsection{}

\makeatletter

\definecolor{mlg}{RGB}{247,247,247}

\newcommand{\inclfile}[1] {
  \pagebreak
  \filename@parse{#1}
  \subsection{\detokenize\expandafter{\filename@base}.\detokenize\expandafter{\filename@ext}}
  \tcbinputlisting{
      listing file=#1,% <------- file name
      enhanced,
      listing only,
      minted options={
        % frame=lines,
        % framesep=2mm,
        tabsize=4,
        baselinestretch=1.0,
        % bgcolor=lightgray,
        linenos,
        breaklines,
      },
      minted language=C,
      boxrule=0pt,
      boxsep=0pt,
      colback=mlg,
      frame hidden,
      borderline horizontal={0.4pt}{0pt}{black},
      breakable=unlimited,
    }
  
}

\foreach \file in { ../src/items.c, ../src/librobutts.c,  ../src/robot.c, ../src/robutt.c, ../src/scene.c } {
  \inclfile{\file}
}

\foreach \file in {../include/item.h, ../include/librobutts.h, ../include/robot.h, ../include/robutts.h, ../include/scene.h } {
  \inclfile{\file}
}

\makeatother

\end{document}